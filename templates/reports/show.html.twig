{% extends 'base.html.twig' %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/admin-dashboard-style.css') }}">
{% endblock %}

{% block body %}
<div id="intro-color">
    <div class="container text-start px-5 py-5 mt-5">
    <h1 class="text-primary">Reports list</h1>
    <hr>
        <div class="row mb-5">
            <div class="col">
                <input type="text" class="form-control" id="animalName" placeholder="Search for animal" required autofocus>
            </div>
            <div class="col">

                <input type="date" class="form-control" id="createdAt" placeholder="Select a date" />
            </div>
        </div>
        
        <div class="table-responsive">
            <table class="table rounded shadow-5-strong">
            <thead class="text-primary">
                <tr>
                    <th>ID</th>
                    <th>Animal</th>
                    <th>State</th>
                    <th>Additional info</th>
                    <th>Date</th>
                    <th>Veterinary</th>
                </tr>
            </thead>
            <tbody>
            <div id="reportResults">
            {% for report in reports %}
                <tr class="report-item" data-animal-name="{{ report.animal.getName()|lower }}" data-created-at="{{ report.createdAt|date('Y-m-d') }}">
                    <td>{{ report.id }}</td>
                    <td>{{ report.animal.getName()}}</td>
                    <td>{{ report.state }}</td>
                    <td>{{ report.additionalInfo }}</td>
                    <td>{{ report.createdAt|date('Y-m-d') }}</td>
                    <td>{{ report.veterinaire.email }}</td>
                </tr>
            {% endfor %}
            </div>
            </tbody>
        </table>
        </div>
        
    </div>
</div>

{% endblock %}
